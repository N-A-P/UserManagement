<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mockproject.du1.mapper.CampaignCustomerMapper">


    <!--Get List Data User Information -->
    <resultMap id="GetMailHistoryResultMap"
               type="com.mockproject.du1.model.CampaignCustomer">
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="sent_date" property="sentDate" jdbcType="DATE" />
		<result column="updated_by" property="updatedBy" jdbcType="VARCHAR" />
		<result column="created_timestamp" property="createdTimestamp" jdbcType="TIMESTAMP" />
		<result column="updated_timestamp" property="updatedTimestamp" jdbcType="TIMESTAMP" />
		<result column="campaign_id" property="campaignId" jdbcType="BIGINT" />
		<result column="customer_id" property="customerId" jdbcType="BIGINT" />
		<result column="user_id" property="userId" jdbcType="BIGINT" />

    </resultMap>
	<sql id="Base_Column_List" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Nov 04 21:10:33 ICT 2019.
        -->
		id, sent_date, updated_by, created_timestamp, updated_timestamp, campaign_id, customer_id,
		user_id
	</sql>

    <insert id="sqlInsertMailHistoryl" parameterType="com.mockproject.du1.model.CampaignCustomer">
		insert into campaign_customer (sent_date, updated_by, created_timestamp,
		updated_timestamp, campaign_id, customer_id,
		user_id)
		values (#{sentDate,jdbcType=DATE}, #{updatedBy,jdbcType=VARCHAR}, #{createdTimestamp,jdbcType=TIMESTAMP},
		#{updatedTimestamp,jdbcType=TIMESTAMP}, #{campaignId,jdbcType=BIGINT}, #{customerId,jdbcType=BIGINT},
		#{userId,jdbcType=BIGINT})
	</insert>

    <select id="sqlGetAllMailHistorySelect"
            resultMap="GetMailHistoryResultMap">
		select
		<include refid="Base_Column_List" />
		from campaign_customer

	</select>
    <select id="sqlGetMailHistorySelectByEmail"
            resultMap="GetMailHistoryResultMap" parameterType="String">
		SELECT
		count(*)
		FROM
		public.campaign_customer
         WHERE
		id = #{id}
	</select>

</mapper>